<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi"
     xmlns:netfx="http://schemas.microsoft.com/wix/NetFxExtension">

  <Product Id="*" Name="SetupGetGuid" Language="1033" Version="1.0.0.0" Manufacturer="RMCorp" UpgradeCode="21e9efed-e8e7-4558-adfc-bec21c9381bf">
    <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine" Platform="x64" />

    <MajorUpgrade DowngradeErrorMessage="A newer version of SetupGetGuid is already installed." />
    <MediaTemplate  EmbedCab="yes"/>

    <UIRef Id="WixUI_FeatureTree" />
    
    <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="ProgramFiles64Folder">
        <Directory Id="INSTALLFOLDER" Name="SetupGetGuid">
          <Directory Id="docs" Name="docs" />
        </Directory>
      </Directory>
    </Directory>

    <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">
      <Component Id="MainApplication" Win64="yes">
        <File Source="D:\\MainApp\\ProdFiles\\check.txt" ProcessorArchitecture="x64" />
      </Component>

      <Component Id="ModuleA" Win64="yes">
        <File Source="D:\\MainApp\\ProdFiles\\ModuleA\\ModuleA.txt" ProcessorArchitecture="x64"/>
      </Component>
      
        <Component Id="ModuleB" Win64="yes">
        <File Source="D:\\MainApp\\ProdFiles\\ModuleB\\ModuleB.txt" ProcessorArchitecture="x64"/>
      </Component>
      
      <Component Id="ModuleC" Win64="yes">
        <File Source="D:\\MainApp\\ProdFiles\\ModuleC\\ModuleC.txt" ProcessorArchitecture="x64"/>
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="DocComponents" Directory="docs">
      <Component Id="Documentation" Win64="yes">
        <File Source="D:\\MainApp\\Docs\\docs.txt" ProcessorArchitecture="x64"/>        
      </Component>
      
    <Component Id="ReadMe" Win64="yes">
        <File Source="D:\\MainApp\\Docs\\readme.txt" ProcessorArchitecture="x64"/>        
      </Component>      
    </ComponentGroup>

    <Feature Id="ProdDocs" Title="Documnetation" Level="1">
      <ComponentGroupRef Id="DocComponents" />
    </Feature>

    <Feature Id="ProdFeatures" Title="SetupGetGuid" Level="1">
      <ComponentRef Id="MainApplication" />
      
      <Feature Id="ModuleA" Title="ModuleA" Level="1">
        <ComponentRef Id="ModuleA" />
      </Feature>
      
      <Feature Id="ModuleB" Title="ModuleB" Level="1">
        <ComponentRef Id="ModuleB" />
      </Feature>

      <Feature Id="ModuleC" Title="ModuleC" Level="1">
        <ComponentRef Id="ModuleC" />
      </Feature>
    </Feature>

  </Product>
</Wix>
